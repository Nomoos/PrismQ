# Reddit Posts Configuration Example
#
# This file shows the environment variables needed for Reddit Posts integration.
# Copy this to your .env file and fill in your actual values.
#
# NEVER commit actual credentials to source control!

# ============================================================================
# Reddit API Credentials
# ============================================================================
# Get these from: https://www.reddit.com/prefs/apps
# 1. Go to https://www.reddit.com/prefs/apps
# 2. Click "create app" or "create another app"
# 3. Choose "script" for app type
# 4. Set redirect URI to http://localhost:8080 (not used but required)
# 5. Copy the client ID (under the app name)
# 6. Copy the client secret

REDDIT_CLIENT_ID=your_reddit_client_id_here
REDDIT_CLIENT_SECRET=your_reddit_client_secret_here
REDDIT_USER_AGENT=PrismQ-IdeaInspiration/1.0

# Optional: Reddit user authentication (for read/write access)
# Leave empty for read-only access (recommended for scraping)
REDDIT_USERNAME=
REDDIT_PASSWORD=

# ============================================================================
# Reddit Worker Configuration
# ============================================================================
# Enable/disable TaskManager API integration
REDDIT_ENABLE_TASKMANAGER=true

# Unique identifier for this worker instance
REDDIT_WORKER_ID=reddit-post-worker-01

# Worker polling settings
REDDIT_POLL_INTERVAL=5
REDDIT_MAX_BACKOFF=60

# ============================================================================
# Rate Limiting
# ============================================================================
# Reddit API rate limits:
# - 60 requests per minute for authenticated apps
# - 600 requests per 10 minutes
# 
# Recommended settings:
# - Use delays between requests to stay under limits
# - Implement exponential backoff on rate limit errors

# ============================================================================
# TaskManager API Configuration (if using centralized task management)
# ============================================================================
# See TaskManager module documentation for details
TASKMANAGER_API_URL=http://localhost:8000
TASKMANAGER_API_KEY=your_taskmanager_api_key

# ============================================================================
# Database Configuration
# ============================================================================
# Path to SQLite databases
REDDIT_QUEUE_DB_PATH=./data/reddit_queue.db
REDDIT_RESULTS_DB_PATH=./data/reddit_results.db

# ============================================================================
# Usage Examples
# ============================================================================
#
# 1. Register task types with TaskManager:
#    python scripts/register_task_types.py
#
# 2. Start Reddit worker:
#    python -m src.worker
#
# 3. Test OAuth connection:
#    python -c "from src.core.oauth import create_reddit_client_from_env; \
#              client = create_reddit_client_from_env(); \
#              print('✓ Connected' if client and client.test_connection() else '✗ Failed')"
#
# ============================================================================
# Security Best Practices
# ============================================================================
#
# 1. NEVER commit credentials to source control
# 2. Use environment variables or .env file (add .env to .gitignore)
# 3. Rotate API keys regularly
# 4. Use read-only mode when write access is not needed
# 5. Monitor API usage to avoid rate limits
# 6. Store credentials securely (use secrets manager in production)
#
# ============================================================================
# Troubleshooting
# ============================================================================
#
# Error: "PRAW not installed"
# Solution: pip install praw
#
# Error: "Invalid credentials"
# Solution: Check client_id and client_secret are correct
#
# Error: "429 Too Many Requests"
# Solution: Reduce request rate, implement backoff
#
# Error: "TaskManager client not available"
# Solution: Check TaskManager module is installed and configured
#
# ============================================================================
