# HackerNews Stories Configuration Example
#
# This file shows the environment variables needed for HackerNews Stories integration.
# Copy this to your .env file and fill in your actual values.

# ============================================================================
# HackerNews API Configuration
# ============================================================================
# HackerNews API is public and requires no authentication
# Official API: https://github.com/HackerNews/API

HACKERNEWS_API_URL=https://hacker-news.firebaseio.com/v0

# ============================================================================
# HackerNews Worker Configuration
# ============================================================================
# Enable/disable TaskManager API integration
HACKERNEWS_ENABLE_TASKMANAGER=true

# Unique identifier for this worker instance
HACKERNEWS_WORKER_ID=hackernews-story-worker-01

# Worker polling settings
HACKERNEWS_POLL_INTERVAL=5
HACKERNEWS_MAX_BACKOFF=60

# Maximum number of stories to fetch per request
HACKERNEWS_MAX_STORIES=500

# ============================================================================
# Rate Limiting
# ============================================================================
# HackerNews API has no official rate limits, but be respectful:
# - Add delays between requests (0.1s recommended)
# - Don't hammer the API
# - Cache results when appropriate
# 
# Recommended settings:
HACKERNEWS_REQUEST_DELAY=0.1

# ============================================================================
# TaskManager API Configuration (if using centralized task management)
# ============================================================================
# See TaskManager module documentation for details
TASKMANAGER_API_URL=http://localhost:8000
TASKMANAGER_API_KEY=your_taskmanager_api_key

# ============================================================================
# Database Configuration
# ============================================================================
# Path to SQLite databases
HACKERNEWS_QUEUE_DB_PATH=./data/hackernews_queue.db
HACKERNEWS_RESULTS_DB_PATH=./data/hackernews_results.db

# ============================================================================
# Usage Examples
# ============================================================================
#
# 1. Register task types with TaskManager:
#    python scripts/register_task_types.py
#
# 2. Start HackerNews worker:
#    python -m src.worker
#
# 3. Test API connection:
#    python -c "import requests; \
#              r = requests.get('https://hacker-news.firebaseio.com/v0/topstories.json'); \
#              print('✓ Connected' if r.status_code == 200 else '✗ Failed')"
#
# ============================================================================
# Security Best Practices
# ============================================================================
#
# 1. No authentication required for HackerNews (public API)
# 2. Be respectful with rate limiting
# 3. Cache results to minimize API calls
# 4. Monitor API usage
# 5. Store TaskManager credentials securely
#
# ============================================================================
# Troubleshooting
# ============================================================================
#
# Error: "Connection refused"
# Solution: Check internet connectivity and API URL
#
# Error: "TaskManager client not available"
# Solution: Check TaskManager module is installed and configured
#         Set HACKERNEWS_ENABLE_TASKMANAGER=false to disable
#
# Error: "Failed to fetch stories"
# Solution: Check HackerNews API status at https://status.ycombinator.com/
#
# ============================================================================
# Story Types
# ============================================================================
#
# Available story types:
# - top: Top stories (front page)
# - best: Best stories (high quality)
# - new: Newest stories
# - ask: Ask HN stories
# - show: Show HN stories
# - job: Job postings
#
# ============================================================================
